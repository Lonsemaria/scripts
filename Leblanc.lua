--Script Name:LonseViktor
--Script Author:Ensuluyn
--I'm really new on scripting thats why feel free to give me some feedbacks on forum :)
assert(load(Base64Decode("bG9jYWwgdmVyc2lvbiA9IDAuMDENCmxvY2FsIGF1dGhvciA9ICJFbnN1bHV5biINCmxvY2FsIFNDUklQVF9OQU1FID0gIkNsYXNzaWMgTWlzZGlyZWN0aW9uIg0KbG9jYWwgQVVUT1VQREFURSA9IHRydWUNCmxvY2FsIFVQREFURV9IT1NUID0gInJhdy5naXRodWIuY29tIg0KbG9jYWwgVVBEQVRFX1BBVEggPSAiTG9uc2VtYXJpYS9zY3JpcHRzL21hc3Rlci9MZWJsYW5jLmx1YSIuLiI/cmFuZD0iLi5tYXRoLnJhbmRvbSgxLDEwMDAwKQ0KbG9jYWwgVVBEQVRFX0ZJTEVfUEFUSCA9IFNDUklQVF9QQVRILi5HZXRDdXJyZW50RW52KCkuRklMRV9OQU1FDQpsb2NhbCBVUERBVEVfVVJMID0gImh0dHBzOi8vIi4uVVBEQVRFX0hPU1QuLlVQREFURV9QQVRIDQpyZXF1aXJlICdIUHJlZGljdGlvbicNCmZ1bmN0aW9uIFNheSh0ZXh0KQ0KICBwcmludCgiPGZvbnQgY29sb3I9XCIjRkYwMDAwXCI+PGI+Q2xhc3NpYyBNaXNkaXJlY3Rpb246PC9iPjwvZm9udD4gPGZvbnQgY29sb3I9XCIjRkZGRkZGXCI+IiAuLiB0ZXh0IC4uICI8L2ZvbnQ+IikNCmVuZA0KDQppZiBBVVRPVVBEQVRFIHRoZW4NCiAgbG9jYWwgU2VydmVyRGF0YSA9IEdldFdlYlJlc3VsdChVUERBVEVfSE9TVCwgIkxvbnNlbWFyaWEvc2NyaXB0cy9tYXN0ZXIvdmVyc2lvbi9MZWJsYW5jLnZlcnNpb24iKQ0KICBpZiBTZXJ2ZXJEYXRhIHRoZW4NCiAgICBTZXJ2ZXJWZXJzaW9uID0gdHlwZSh0b251bWJlcihTZXJ2ZXJEYXRhKSkgPT0gIm51bWJlciIgYW5kIHRvbnVtYmVyKFNlcnZlckRhdGEpIG9yIG5pbA0KICAgIGlmIFNlcnZlclZlcnNpb24gdGhlbg0KICAgICAgaWYgdG9udW1iZXIodmVyc2lvbikgPCBTZXJ2ZXJWZXJzaW9uIHRoZW4NCiAgICAgICAgU2F5KCJOZXcgdmVyc2lvbiBhdmFpbGFibGUgIi4uU2VydmVyVmVyc2lvbikNCiAgICAgICAgU2F5KCJVcGRhdGluZywgcGxlYXNlIGRvbid0IHByZXNzIEY5IikNCiAgICAgICAgRGVsYXlBY3Rpb24oZnVuY3Rpb24oKSBEb3dubG9hZEZpbGUoVVBEQVRFX1VSTCwgVVBEQVRFX0ZJTEVfUEFUSCwgZnVuY3Rpb24gKCkgU2F5KCJTdWNjZXNzZnVsbHkgdXBkYXRlZC4gKCIuLnZlcnNpb24uLiIgPT4gIi4uU2VydmVyVmVyc2lvbi4uIiksIHByZXNzIEY5IHR3aWNlIHRvIGxvYWQgdGhlIHVwZGF0ZWQgdmVyc2lvbi4iKSBlbmQpIGVuZCwgMykNCiAgICAgIGVsc2UNCiAgICAgICAgU2F5KCJZb3UgaGF2ZSBnb3QgdGhlIGxhdGVzdCB2ZXJzaW9uICh2Ii4uU2VydmVyVmVyc2lvbi4uIikgb2YgQ2xhc3NpYyBNaXNkaXJlY3Rpb24gYnkgIiAuLiBhdXRob3IpDQogICAgICBlbmQNCiAgICBlbmQNCiAgZWxzZQ0KICAgIFNheSgiRXJyb3IgZG93bmxvYWRpbmcgdmVyc2lvbiBpbmZvIikNCiAgZW5kDQplbmQNCnBsYXllciA9IEdldE15SGVybygpDQppZiBteUhlcm8uY2hhck5hbWUgfj0gIkxlYmxhbmMiIHRoZW4gcmV0dXJuDQplbmQNCmxvY2FsIHRzLHRzcSx0c3csdHNlLHRzcg0KZnVuY3Rpb24gT25Mb2FkKCkNCiBpZiBub3QgUmVxdWlyZVNpbXBsZUxpYigpIHRoZW4gcmV0dXJuIGVuZA0KICAgaXRlbWZpeCgpDQogICBEcmF3ZG1nbGliKCkNCiAgIFRhcmdldHNlbGVjdGlvbigpDQogICBNZW51KCkNCiAgIGZpbmRvcmJ3YWxrZXIoKQ0KICAgcHJpbnQoIjxmb250IGNvbG9yPVwiI0ZGMDAwMFwiPjxiPiBDbGFzc2ljIE1pc2RpcmVjdGlvbiAtIDwvYj48L2ZvbnQ+PGZvbnQgY29sb3I9XCIjQ0JGNkZGXCI+IEknbSByZWFsbHkgbmV3IG9uIHNjcmlwdGluZyB0aGF0cyB3aHkgZmVlbCBmcmVlIHRvIGdpdmUgbWUgc29tZSBmZWVkYmFja3Mgb24gZm9ydW0gOikiKQ0KZW5kDQpmdW5jdGlvbiBmaW5kb3Jid2Fsa2VyKCkNCiBpZiBfRy5SZWJvcm5fTG9hZGVkIHRoZW4NCiAgICBTQUM9dHJ1ZSBhbmQNCiAgICBwcmludCgiPGZvbnQgY29sb3I9XCIjRkYwMDAwXCI+PGI+IENsYXNzaWMgTWlzZGlyZWN0aW9uIC0gPC9iPjwvZm9udD48Zm9udCBjb2xvcj1cIiNDQkY2RkZcIj5TQUNSIGhhcyBiZWVuIGZvdW5kIikNCiAgZWxzZWlmIG5vdCBfRy5SZWJvcm5fTG9hZGVkIGFuZCBGaWxlRXhpc3QoTElCX1BBVEggLi4gIlN4T3JiV2Fsay5sdWEiKSB0aGVuDQogICAgU3hPcmI9dHJ1ZQ0KICAgIHJlcXVpcmUoIlN4T3JiV2FsayIpDQogICAgRGVsYXlBY3Rpb24oZnVuY3Rpb24oKSBDb25maWc6YWRkU3ViTWVudSgiU3hPcmJXYWxrIiwib3JiV2FsayIpIGVuZCw1KQ0KICAgIERlbGF5QWN0aW9uKGZ1bmN0aW9uKCkgX0cuU3hPcmI6TG9hZFRvTWVudShDb25maWcub3JiV2FsaykgZW5kLDUpDQogIGVsc2VpZiBTQUN+PXRydWUgYW5kIFN4T3Jifj0gdHJ1ZSB0aGVuDQogICAgcCgiPT09PT09PT09PT09PT09PT0iKQ0KICAgIHAoIj09PT09PT09PT09PT09PT09IikNCiAgICBwKCJTeE9yYiBvciBTQUM6UiBpcyByZXF1aXJlZC4iKQ0KICAgIHAoIj09PT09PT09PT09PT09PT09IikNCiAgICBwKCI9PT09PT09PT09PT09PT09PSIpDQogIGVuZA0KZW5kDQogICAgZnVuY3Rpb24gRHJhd2RtZ2xpYigpDQogIGlmKEZpbGVFeGlzdChMSUJfUEFUSC4uIkRyYXdEYW1hZ2VMaWIubHVhIikpdGhlbg0KICAgIGNoZWNrPTENCiAgZWxzZQ0KICAgIGNoZWNrPTANCiAgZW5kIA0KICAgaWYgX1JlcXVpcmVkKCk6QWRkKHtOYW1lID0gIkRyYXdEYW1hZ2VMaWIiLCBVcmwgPSAicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9pbm5lcm91dC9Cb3RPZkxlZ2VuZHMvbWFzdGVyL0RyYXdEYW1hZ2VMaWIubHVhIn0pOkNoZWNrKCk6SXNEb3dubG9hZGluZygpIHRoZW4gcmV0dXJuIGVuZCANCmVuZA0KZnVuY3Rpb24gVGFyZ2V0c2VsZWN0aW9uKCkNCiB0cz0gVGFyZ2V0U2VsZWN0b3IoVEFSR0VUX0xFU1NfQ0FTVF9QUklPUklUWSwgNTI1LCBEQU1BR0VfUEhZU0lDQUwsIGZhbHNlLCB0cnVlKQ0KICB0c3E9IFRhcmdldFNlbGVjdG9yKFRBUkdFVF9MRVNTX0NBU1RfUFJJT1JJVFksIDcwMCwgREFNQUdFX1BIWVNJQ0FMLCBmYWxzZSwgdHJ1ZSkNCiAgdHN3PSBUYXJnZXRTZWxlY3RvcihUQVJHRVRfTEVTU19DQVNUX1BSSU9SSVRZLCA2MDAsIERBTUFHRV9NQUdJQywgZmFsc2UsIHRydWUpDQogIHRzZT0gVGFyZ2V0U2VsZWN0b3IoVEFSR0VUX0xFU1NfQ0FTVF9QUklPUklUWSwgOTI1LCBEQU1BR0VfTUFHSUMsIGZhbHNlLCB0cnVlKQ0KICB0c3I9IFRhcmdldFNlbGVjdG9yKFRBUkdFVF9MRVNTX0NBU1RfUFJJT1JJVFksIDkyNSwgREFNQUdFX01BR0lDLCBmYWxzZSwgdHJ1ZSkgDQogICBRU3BlbGwgPSBfU3BlbGwoe1Nsb3QgPSBfUSwgRGFtYWdlTmFtZSA9ICJRIiwgUmFuZ2UgPSA3MDAsIFdpZHRoID0gMSwgRGVsYXkgPSAwLCBTcGVlZCA9IG1hdGguaHVnZSwgQ29sbGlzaW9uID0gdHJ1ZSwgQW9lID0gZmFsc2UsIFR5cGUgPSBTUEVMTF9UWVBFLlRBUkdFVFRFRH0pDQogICBXU3BlbGwgPSBfU3BlbGwoe1Nsb3QgPSBfVywgRGFtYWdlTmFtZSA9ICJXIiwgUmFuZ2UgPSA2MDAsIFdpZHRoID0gMTI1LCBEZWxheSA9IDAuNSwgU3BlZWQgPSAxMzAwLCBSYWRpdXMgPSAyNTAgLCBDb2xsaXNpb24gPSBmYWxzZSwgQW9lID0gdHJ1ZSwgVHlwZSA9IFNQRUxMX1RZUEUuVEFSR0VUVEVEfSkNCiAgIEVTcGVsbCA9IF9TcGVsbCh7U2xvdCA9IF9FLCBEYW1hZ2VOYW1lID0gIkUiLCBSYW5nZSA9IDkyNSwgV2lkdGggPSA1NSwgRGVsYXkgPSAwLjI1LCBTcGVlZCA9IDE2MDAsIENvbGxpc2lvbiA9IHRydWUsIEFvZSA9IGZhbHNlLCBUeXBlID0gU1BFTExfVFlQRS5MSU5FQVJ9KQ0KICAgUlNwZWxsID0gX1NwZWxsKHtTbG90ID0gX1IsIERhbWFnZU5hbWUgPSAiUiIsIFJhbmdlID02MDAsIFdpZHRoID0gMTI1LCBEZWxheSA9IDAuNSwgU3BlZWQgPSAxMzAwLCBDb2xsaXNpb24gPSBmYWxzZSwgQW9lID0gdHJ1ZSwgVHlwZSA9IFNQRUxMX1RZUEUuVEFSR0VUVEVEfSkNCiAgIElnbml0ZSA9IF9TcGVsbCh7U2xvdCA9IEZpbmRTdW1tb25lclNsb3QoInN1bW1vbmVyZG90IiksIERhbWFnZU5hbWUgPSAiSUdOSVRFIiwgUmFuZ2UgPSA2MDAsIFR5cGUgPSBTUEVMTF9UWVBFLlRBUkdFVFRFRH0pDQogICBsZWJsYW5jVywgbGVibGFuY0ltYWdlLCBjbG9uZUlkID0gbmlsLCBuaWwsIG5pbA0KLS18PiBNaW5pb24gTWFuYWdlcnMNCiAgICBlbmVteU1pbmlvbnMgICA9IG1pbmlvbk1hbmFnZXIoTUlOSU9OX0VORU1ZLCAgIDY1MCwgbXlIZXJvLCBNSU5JT05fU09SVF9NQVhIRUFMVEhfREVDKQ0KICAgIGFsbHlNaW5pb25zICAgID0gbWluaW9uTWFuYWdlcihNSU5JT05fQUxMWSwgICA2NTAsIG15SGVybywgTUlOSU9OX1NPUlRfTUFYSEVBTFRIX0RFQykNCiAgICBqdW5nbGVNaW5pb25zICA9IG1pbmlvbk1hbmFnZXIoTUlOSU9OX0pVTkdMRSwgIDY1MCwgbXlIZXJvLCBNSU5JT05fU09SVF9NQVhIRUFMVEhfREVDKQ0KICAgIG90aGVyTWluaW9ucyAgID0gbWluaW9uTWFuYWdlcihNSU5JT05fT1RIRVIsICAgNjUwLCBteUhlcm8sIE1JTklPTl9TT1JUX01BWEhFQUxUSF9ERUMpDQogICAgZW5kDQotLSBoYW5kbGVzIHNjcmlwdCBsb2dpYywgYSBwdXJlIGhpZ2ggc3BlZWQgbG9vcA0KZnVuY3Rpb24gT25UaWNrKCkNCiAgICAgYXV0b3pob255YSgpDQogaWYoQ29uZmlnLmNvbWJvLmNvbWJva2V5ICl0aGVuDQogICAgY29tYm8oKQ0KICBlbmQNCiAgaWYoQ29uZmlnLmxhbmVjbGVhci5sYW5lY2xlYXJrZXkpdGhlbg0KICAgIExhbmVDbGVhcigpDQogIGVuZA0KICBpZihDb25maWcuZXNjYXBlLmVzY2FwZWtleSl0aGVuDQogICAgZXNjYXBlKCkNCiAgZW5kDQogICAgaWYoQ29uZmlnLmp1bmdsZWNsZWFyLmp1bmdsZWNsZWFya2V5KXRoZW4NCiAgIEp1bmdsZUNsZWFyKCkNCiAgZW5kDQogIGlmKENvbmZpZy5raWxsc3RlYWwua3MgKSB0aGVuDQogICAga2lsbHN0ZWFsKCkNCiAgZW5kDQogIGlmKENvbmZpZy5oYXJhc3MuaGFyYXNza2V5ICApIHRoZW4NCiAgICBoYXJhc3MoKQ0KICBlbmQNCiAgICBlbmQNCmZ1bmN0aW9uIE1lbnUoKQ0KICAgICAgQ29uZmlnPXNjcmlwdENvbmZpZygiQ2xhc3NpYyBNaXNkaXJlY3Rpb24iLCJtZW51IikNCg0KICAgICAgQ29uZmlnOmFkZFN1Yk1lbnUoIkNvbWJvIFNldHRpbmdzIiwgImNvbWJvIikNCiAgICAgIENvbmZpZy5jb21ibzphZGRQYXJhbSgiY29tYm9rZXkiLCAiQ29tYm8gS2V5IiwgU0NSSVBUX1BBUkFNX09OS0VZRE9XTiwgZmFsc2UsIDMyKQ0KICAgICAgQ29uZmlnLmNvbWJvOmFkZFBhcmFtKCJ1c2VRIiwgIlVzZSBRIGluIENvbWJvIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KICAgICAgQ29uZmlnLmNvbWJvOmFkZFBhcmFtKCJ1c2VXIiwgIlVzZSBXIGluIENvbWJvIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KICAgICAgQ29uZmlnLmNvbWJvOmFkZFBhcmFtKCJ1c2VFIiwgIlVzZSBFIGluIGNvbWJvIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KICAgICAgQ29uZmlnLmNvbWJvOmFkZFBhcmFtKCJ1c2VSIiwgIlVzZSBSIGluIGNvbWJvIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KICAgICAgQ29uZmlnLmNvbWJvOmFkZFBhcmFtKCJ1c2VJIiwgIlVzZSBJZ25pdGUgaWYgdGFyZ2V0IGtpbGxhYmxlIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KICAgICAgQ29uZmlnLmNvbWJvOmFkZFBhcmFtKCJsb2dpYyIsICJDb21ibyBsb2dpYyIsIFNDUklQVF9QQVJBTV9MSVNULCAxLCB7IlFFV1IiLCAiUVJFVyIsICJFUVdSIiB9KQ0KICAgICAgQ29uZmlnLmNvbWJvOmFkZFBhcmFtKCJNYW5hIiwiTWFuYSBNYW5hZ2VyICUiLFNDUklQVF9QQVJBTV9TTElDRSwgMTAsIDEwLCAxMDAsIDApDQogICAgICANCiAgICAgIENvbmZpZzphZGRTdWJNZW51KCJIYXJhc3MgU2V0dGluZ3MiLCAiaGFyYXNzIikNCiAgICAgIENvbmZpZy5oYXJhc3M6YWRkUGFyYW0oImhhcmFzc2tleSIsICJTbWFydCBIYXJhc3MgS2V5IiwgU0NSSVBUX1BBUkFNX09OS0VZRE9XTiwgZmFsc2UsIHN0cmluZy5ieXRlKCJDIikpDQogICAgICBDb25maWcuaGFyYXNzOmFkZFBhcmFtKCJ1c2VRIiwgIkhhcmFzcyBXaXRoIFEiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQogICAgICBDb25maWcuaGFyYXNzOmFkZFBhcmFtKCJ1c2VXIiwgIkhhcmFzcyBXaXRoIFciLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQogICAgICBDb25maWcuaGFyYXNzOmFkZFBhcmFtKCJNYW5hIiwiTWFuYSBNYW5hZ2VyICUiLFNDUklQVF9QQVJBTV9TTElDRSwgMTAsIDEwLCAxMDAsIDApDQogICAgICANCiAgICAgIENvbmZpZzphZGRTdWJNZW51KCJMYW5lQ2xlYXIgU2V0dGluZ3MiLCJsYW5lY2xlYXIiKQ0KICAgICAgQ29uZmlnLmxhbmVjbGVhcjphZGRQYXJhbSgibGFuZWNsZWFya2V5IiwgIkxhbmUgQ2xlYXIgS2V5IiwgU0NSSVBUX1BBUkFNX09OS0VZRE9XTiwgZmFsc2UsIHN0cmluZy5ieXRlKCJWIikpDQogICAgICBDb25maWcubGFuZWNsZWFyOmFkZFBhcmFtKCJ1c2VRIiwiVXNlIFEgb24gTGFuZWNsZWFyIixTQ1JJUFRfUEFSQU1fT05PRkYsdHJ1ZSkNCiAgICAgIENvbmZpZy5sYW5lY2xlYXI6YWRkUGFyYW0oInVzZVciLCJVc2UgVyBvbiBMYW5lY2xlYXIiLFNDUklQVF9QQVJBTV9PTk9GRix0cnVlKQ0KICAgICAgQ29uZmlnLmxhbmVjbGVhcjphZGRQYXJhbSgidXNlRSIsIlVzZSBFIG9uIExhbmVjbGVhciIsU0NSSVBUX1BBUkFNX09OT0ZGLHRydWUpDQogICAgICBDb25maWcubGFuZWNsZWFyOmFkZFBhcmFtKCJNYW5hIiwiTWFuYSBNYW5hZ2VyICUiLFNDUklQVF9QQVJBTV9TTElDRSwgMzAsIDEwLCAxMDAsIDApDQogICAgICANCiAgICAgIENvbmZpZzphZGRTdWJNZW51KCJKdW5nbGVDbGVhciBTZXR0aW5ncyIsImp1bmdsZWNsZWFyIikNCiAgICAgIENvbmZpZy5qdW5nbGVjbGVhcjphZGRQYXJhbSgianVuZ2xlY2xlYXJrZXkiLCAiSnVuZ2xlQ2xlYXIgS2V5IiwgU0NSSVBUX1BBUkFNX09OS0VZRE9XTiwgZmFsc2UsIHN0cmluZy5ieXRlKCJWIikpDQogICAgICBDb25maWcuanVuZ2xlY2xlYXI6YWRkUGFyYW0oInVzZVEiLCJVc2UgUSBvbiBqdW5nbGVjbGVhciIsU0NSSVBUX1BBUkFNX09OT0ZGLHRydWUpDQogICAgICBDb25maWcuanVuZ2xlY2xlYXI6YWRkUGFyYW0oInVzZVciLCJVc2UgVyBvbiBMYW5lY2xlYXIiLFNDUklQVF9QQVJBTV9PTk9GRix0cnVlKQ0KICAgICAgQ29uZmlnLmp1bmdsZWNsZWFyOmFkZFBhcmFtKCJ1c2VFIiwiVXNlIEUgb24ganVuZ2xlY2xlYXIiLFNDUklQVF9QQVJBTV9PTk9GRix0cnVlKQ0KICAgICAgQ29uZmlnLmp1bmdsZWNsZWFyOmFkZFBhcmFtKCJNYW5hIiwiTWFuYSBNYW5hZ2VyICUiLFNDUklQVF9QQVJBTV9TTElDRSwgMzAsIDEwLCAxMDAsIDApDQogICAgICANCiAgICAgIENvbmZpZzphZGRTdWJNZW51KCJFc2NhcGUgU2V0dGluZ3MiLCJlc2NhcGUiKQ0KICAgICAgQ29uZmlnLmVzY2FwZTphZGRQYXJhbSgiZXNjYXBla2V5IiwgIkVzY2FwZSBLZXkiLCBTQ1JJUFRfUEFSQU1fT05LRVlET1dOLCBmYWxzZSwgc3RyaW5nLmJ5dGUoIlQiKSkNCiAgICAgIENvbmZpZy5lc2NhcGU6YWRkUGFyYW0oInVzZVciLCJVc2UgVyBXaGlsZSBFc2NhcGUiLFNDUklQVF9QQVJBTV9PTk9GRix0cnVlKQ0KICAgICAgQ29uZmlnLmVzY2FwZTphZGRQYXJhbSgidXNlUiIsIlVzZSBSIFdoaWxlIEVzY2FwZSIsU0NSSVBUX1BBUkFNX09OT0ZGLHRydWUpDQoNCiAgICAgIA0KICAgICAgQ29uZmlnOmFkZFN1Yk1lbnUoIktpbGxTdGVhbCBTZXR0aW5ncyIsICJraWxsc3RlYWwiKQ0KICAgICAgQ29uZmlnLmtpbGxzdGVhbDphZGRQYXJhbSgia3MiLCJLaWxsc3RlYWwgT24vT2ZmIixTQ1JJUFRfUEFSQU1fT05PRkYsdHJ1ZSkNCiAgICAgIENvbmZpZy5raWxsc3RlYWw6YWRkUGFyYW0oInVzZVEiLCAiU3RlYWwgV2l0aCBRIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KICAgICAgQ29uZmlnLmtpbGxzdGVhbDphZGRQYXJhbSgidXNlVyIsICJTdGVhbCBXaXRoIFciLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQogICAgICBDb25maWcua2lsbHN0ZWFsOmFkZFBhcmFtKCJ1c2VFIiwgIlN0ZWFsIFdpdGggRSIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCiAgICAgIENvbmZpZy5raWxsc3RlYWw6YWRkUGFyYW0oInVzZVIiLCAiU3RlYWwgV2l0aCBSIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KICAgICAgQ29uZmlnLmtpbGxzdGVhbDphZGRQYXJhbSgidXNlUVciLCAiU3RlYWwgV2l0aCBRVyIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCiAgICAgIENvbmZpZy5raWxsc3RlYWw6YWRkUGFyYW0oInVzZUkiLCAiU3RlYWwgV2l0aCBJZ25pdGUiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQogICAgICANCiAgICAgIENvbmZpZzphZGRTdWJNZW51KCJJdGVtIFNldHRpbmdzIiwgIml0ZW0iKQ0KICAgICAgQ29uZmlnLml0ZW06YWRkUGFyYW0oImVuYWJsZWF1dG96aG9ueWEiLCAiQXV0byBaaG9ueWEiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIGZhbHNlKQ0KICAgICAgQ29uZmlnLml0ZW06YWRkUGFyYW0oImF1dG96aG9ueWEiLCAiWmhvbnlhIGlmIEhlYWx0aCB1bmRlciAtPiAlIiwgU0NSSVBUX1BBUkFNX1NMSUNFLCAxMCwgMCwgMTAwLCAwKQ0KICAgICANCiAgICAgIENvbmZpZzphZGRTdWJNZW51KCJPdGhlciBTZXR0aW5ncyIsIm90aGVyIikNCiAgICAgIENvbmZpZy5vdGhlcjphZGRTdWJNZW51KCJTaG93IERhbWFnZSBPbiBIcCBCYXIiLCAiSFBCQVIiKQ0KICAgICAgQ29uZmlnLm90aGVyLkhQQkFSOmFkZFBhcmFtKCJrZXkiLCJPTi9PRkYiLFNDUklQVF9QQVJBTV9PTk9GRix0cnVlKQ0KICAgICAgDQogICAgICBDb25maWc6YWRkU3ViTWVudSgiVGFyZ2V0c2VsZWN0b3JzIiwidGFyZ2V0c2VsIikNCiAgICB0cy5uYW1lICA9ICJMZWJsYW5jIg0KICAgIHRzcS5uYW1lID0gIkxlYmxhbmNRIg0KICAgIHRzdy5uYW1lID0gIkxlYmxhbmNXIg0KICAgIHRzZS5uYW1lID0gIkxlYmxhbmNFIg0KICAgIHRzci5uYW1lID0gIkxlYmxhbmNSIg0KICAgIENvbmZpZy50YXJnZXRzZWw6YWRkVFModHMpDQogICAgQ29uZmlnLnRhcmdldHNlbDphZGRUUyh0c3EpDQogICAgQ29uZmlnLnRhcmdldHNlbDphZGRUUyh0c3cpDQogICAgQ29uZmlnLnRhcmdldHNlbDphZGRUUyh0c2UpDQogICAgQ29uZmlnLnRhcmdldHNlbDphZGRUUyh0c3IpIA0KICAgIENvbmZpZzphZGRTdWJNZW51KCJLZXlzIFNldHRpbmdzIiwgIktleXMiKQ0KICAgIE9yYndhbGtNYW5hZ2VyOkxvYWRDb21tb25LZXlzKENvbmZpZy5LZXlzKQ0KICAgIENvbmZpZzphZGRQYXJhbSgiVmVyc2lvbiIsICJWZXJzaW9uIiwgU0NSSVBUX1BBUkFNX0lORk8sICJiZXRhIikNCmVuZA0KZnVuY3Rpb24gT25EcmF3KCkNCiAgaWYoQ29uZmlnLm90aGVyLkhQQkFSLmtleSBhbmQgY2hlY2s9PTEgKXRoZW4NCiAgICBkcmF3RGFtYWdlKCkgDQogIGVuZA0KZW5kDQpmdW5jdGlvbiBjb21ibygpDQppZiBDb25maWcuY29tYm8ubG9naWMgPT0gMSBhbmQgKG15SGVyby5tYW5hIC8gbXlIZXJvLm1heE1hbmEgPiBDb25maWcuY29tYm8uTWFuYSAvMTAwICkgdGhlbg0KY29tYm9RRVdSKCkNCmVuZA0KaWYgQ29uZmlnLmNvbWJvLmxvZ2ljID09IDIgYW5kIChteUhlcm8ubWFuYSAvIG15SGVyby5tYXhNYW5hID4gQ29uZmlnLmNvbWJvLk1hbmEgLzEwMCApIHRoZW4NCmNvbWJvUVJFVygpDQplbmQNCmlmIENvbmZpZy5jb21iby5sb2dpYyA9PSAzIGFuZCAobXlIZXJvLm1hbmEgLyBteUhlcm8ubWF4TWFuYSA+IENvbmZpZy5jb21iby5NYW5hIC8xMDAgKSB0aGVuDQpjb21ib0VRV1IoKQ0KZW5kDQogICAgaWYoQ29uZmlnLmNvbWJvLnVzZUkgYW5kIENvbmZpZy5jb21iby5jb21ib2tleSApdGhlbg0KICAgIGZvciBfLCB1bml0IGluIHBhaXJzKEdldEVuZW15SGVyb2VzKCkpIGRvDQogICAgICBsb2NhbCBkbWdJID0oNTArICgobXlIZXJvLmxldmVsKSoyMCkpDQogICAgICBsb2NhbCBoZWFsdGg9dW5pdC5oZWFsdGgNCiAgICAgIGlmKGhlYWx0aDxkbWdJIGFuZCBDb25maWcuY29tYm8udXNlSSBhbmQgR2V0RGlzdGFuY2UodW5pdCk8NjAwKXRoZW4NCiAgICAgICAgQ2FzdEkodW5pdCkNCiAgICBlbmQNCiAgICBlbmQNCmVuZA0KZW5kDQpmdW5jdGlvbiBjb21ib1FSRVcoKQ0KdHNxOnVwZGF0ZSgpDQogdHN3OnVwZGF0ZSgpDQogdHNlOnVwZGF0ZSgpDQogdHNyOnVwZGF0ZSgpDQppZiAodHNxLnRhcmdldCB+PSBuaWwgKXRoZW4NCkNhc3RRUih0c3EudGFyZ2V0KQ0KZW5kDQppZih0c3cudGFyZ2V0IH49IG5pbCApIGFuZCBRUnVzZWQoKSB0aGVuDQpDYXN0RVcodHN3LnRhcmdldCkNCmVuZA0KZW5kDQpmdW5jdGlvbiBjb21ib0VRV1IoKQ0KdHNxOnVwZGF0ZSgpDQogdHN3OnVwZGF0ZSgpDQogdHNlOnVwZGF0ZSgpDQogdHNyOnVwZGF0ZSgpDQppZiAodHNxLnRhcmdldCB+PSBuaWwgKXRoZW4NCkNhc3RFUSh0c3EudGFyZ2V0KQ0KZW5kDQppZih0c3cudGFyZ2V0IH49IG5pbCApIGFuZCBFUXVzZWQoKSB0aGVuDQpDYXN0V1IodHN3LnRhcmdldCkNCmVuZA0KZW5kDQpmdW5jdGlvbiBjb21ib1FFV1IoKQ0KIHRzcTp1cGRhdGUoKQ0KIHRzdzp1cGRhdGUoKQ0KIHRzZTp1cGRhdGUoKQ0KIHRzcjp1cGRhdGUoKQ0KaWYgKHRzcS50YXJnZXQgfj0gbmlsICl0aGVuDQpDYXN0UUUodHNlLnRhcmdldCkNCmVuZA0KaWYodHN3LnRhcmdldCB+PSBuaWwgKSBhbmQgUUV1c2VkKCkgdGhlbg0KQ2FzdFdSKHRzdy50YXJnZXQpDQplbmQNCmVuZA0KZnVuY3Rpb24gQ2FzdFEodW5pdCkNCiAgUVNwZWxsOkNhc3QodW5pdCkNCmVuZA0KZnVuY3Rpb24gQ2FzdFFFKHVuaXQpDQogICAgICB0c3E6dXBkYXRlKCkNCiAgICBpZih0c3EudGFyZ2V0fj1uaWwgYW5kIENvbmZpZy5jb21iby51c2VRIGFuZCAgQ29uZmlnLmNvbWJvLmNvbWJva2V5ICBhbmQgUVNwZWxsOklzUmVhZHkoKSl0aGVuDQogICAgICAgIENhc3RRKHRzcS50YXJnZXQpDQogICBlbmQNCiAgICAgICB0c2U6dXBkYXRlKCkNCiAgICAgICAgaWYodHNlLnRhcmdldH49bmlsIGFuZCBDb25maWcuY29tYm8udXNlRSBhbmQgIENvbmZpZy5jb21iby5jb21ib2tleSBhbmQgRVNwZWxsOklzUmVhZHkoKSkgdGhlbg0KICAgICAgICBDYXN0RSh0c2UudGFyZ2V0KQ0KICAgICAgICBlbmQNCiAgICAgICAgZW5kDQpmdW5jdGlvbiBDYXN0RVcodW5pdCkNCiAgICAgIHRzZTp1cGRhdGUoKQ0KICAgIGlmKHRzZS50YXJnZXR+PW5pbCBhbmQgQ29uZmlnLmNvbWJvLnVzZUUgYW5kICBDb25maWcuY29tYm8uY29tYm9rZXkgIGFuZCBFU3BlbGw6SXNSZWFkeSgpKXRoZW4NCiAgICAgICAgQ2FzdEUodHNlLnRhcmdldCkNCiAgIGVuZA0KICAgICAgIHRzdzp1cGRhdGUoKQ0KICAgICAgICBpZih0c3cudGFyZ2V0fj1uaWwgYW5kIENvbmZpZy5jb21iby51c2VXIGFuZCAgQ29uZmlnLmNvbWJvLmNvbWJva2V5IGFuZCBub3Qgd1VzZWQoKSBhbmQgV1NwZWxsOklzUmVhZHkoKSkgdGhlbg0KICAgICAgICBDYXN0Vyh0c3cudGFyZ2V0KQ0KICAgICAgICBlbmQNCmVuZA0KZnVuY3Rpb24gQ2FzdFFSKHVuaXQpDQogICAgICB0c3E6dXBkYXRlKCkNCiAgICBpZih0c3EudGFyZ2V0fj1uaWwgYW5kIENvbmZpZy5jb21iby51c2VRIGFuZCAgQ29uZmlnLmNvbWJvLmNvbWJva2V5ICBhbmQgUVNwZWxsOklzUmVhZHkoKSl0aGVuDQogICAgICAgIENhc3RRKHRzcS50YXJnZXQpDQogICBlbmQNCiAgICAgICB0c3I6dXBkYXRlKCkNCiAgICAgICAgaWYodHNyLnRhcmdldH49bmlsIGFuZCBDb25maWcuY29tYm8udXNlUiBhbmQgIENvbmZpZy5jb21iby5jb21ib2tleSBhbmQgUlNwZWxsOklzUmVhZHkoKSkgdGhlbg0KICAgICAgICBDYXN0Uih0c3IudGFyZ2V0KQ0KICAgICAgICBlbmQNCmVuZA0KZnVuY3Rpb24gQ2FzdFdSKHVuaXQpDQogICAgICB0c3c6dXBkYXRlKCkNCiAgICBpZih0c3cudGFyZ2V0fj1uaWwgYW5kIENvbmZpZy5jb21iby51c2VXIGFuZCAgQ29uZmlnLmNvbWJvLmNvbWJva2V5ICBhbmQgV1NwZWxsOklzUmVhZHkoKWFuZCBub3Qgd1VzZWQoKSl0aGVuDQogICAgICAgIENhc3RXKHRzdy50YXJnZXQpDQogICBlbmQNCiAgICAgICB0c3I6dXBkYXRlKCkNCiAgICAgICAgaWYodHNyLnRhcmdldH49bmlsIGFuZCBDb25maWcuY29tYm8udXNlUiBhbmQgIENvbmZpZy5jb21iby5jb21ib2tleSBhbmQgUlNwZWxsOklzUmVhZHkoKSkgdGhlbg0KICAgICAgICBDYXN0Uih0c3IudGFyZ2V0KQ0KICAgICAgICBlbmQNCmVuZA0KZnVuY3Rpb24gQ2FzdFFXSCgpDQogICAgICB0c3E6dXBkYXRlKCkNCiAgICBpZih0c3EudGFyZ2V0fj1uaWwgYW5kIENvbmZpZy5oYXJhc3MudXNlUSBhbmQgIENvbmZpZy5oYXJhc3MuaGFyYXNza2V5IGFuZCBRU3BlbGw6SXNSZWFkeSgpKXRoZW4NCiAgICAgICAgQ2FzdFEodHNxLnRhcmdldCkNCiAgIGVuZA0KICAgICAgdHN3OnVwZGF0ZSgpDQogICAgaWYodHN3LnRhcmdldH49bmlsIGFuZCBDb25maWcuaGFyYXNzLnVzZVcgYW5kICBDb25maWcuaGFyYXNzLmhhcmFzc2tleSBhbmQgV1NwZWxsOklzUmVhZHkoKSl0aGVuDQogICAgICAgIENhc3RXKHRzdy50YXJnZXQpDQogICBlbmQNCmVuZA0KZnVuY3Rpb24gQ2FzdFFXSyh1bml0KQ0KICAgICAgdHNxOnVwZGF0ZSgpDQogICAgaWYodHNxLnRhcmdldH49bmlsIGFuZCBDb25maWcua2lsbHN0ZWFsLnVzZVFXIGFuZCAgQ29uZmlnLmtpbGxzdGVhbC5rcyBhbmQgUVNwZWxsOklzUmVhZHkoKSl0aGVuDQogICAgICAgIENhc3RRKHRzcS50YXJnZXQpDQogICBlbmQNCiAgICAgIHRzdzp1cGRhdGUoKQ0KICAgIGlmKHRzdy50YXJnZXR+PW5pbCBhbmQgQ29uZmlnLmtpbGxzdGVhbC51c2VRVyBhbmQgIENvbmZpZy5raWxsc3RlYWwua3MgYW5kIFdTcGVsbDpJc1JlYWR5KCkpdGhlbg0KICAgICAgICBDYXN0Vyh0c3cudGFyZ2V0KQ0KICAgZW5kDQplbmQNCmZ1bmN0aW9uIENhc3RFUSh1bml0KQ0KICAgICAgdHNlOnVwZGF0ZSgpDQogICAgaWYodHNlLnRhcmdldH49bmlsIGFuZCBDb25maWcuY29tYm8udXNlRSBhbmQgIENvbmZpZy5jb21iby5jb21ib2tleSAgYW5kIEVTcGVsbDpJc1JlYWR5KCkpdGhlbg0KICAgICAgICBDYXN0RSh0c2UudGFyZ2V0KQ0KICAgZW5kDQogICAgICAgdHNxOnVwZGF0ZSgpDQogICAgICAgIGlmKHRzcS50YXJnZXR+PW5pbCBhbmQgQ29uZmlnLmNvbWJvLnVzZVEgYW5kICBDb25maWcuY29tYm8uY29tYm9rZXkgYW5kIFFTcGVsbDpJc1JlYWR5KCkpIHRoZW4NCiAgICAgICAgQ2FzdFEodHNxLnRhcmdldCkNCiAgICAgICAgZW5kDQplbmQNCmZ1bmN0aW9uIENhc3RXKHVuaXQpDQogIFdTcGVsbDpDYXN0KHVuaXQpDQplbmQNCg0KZnVuY3Rpb24gQ2FzdEUodW5pdCkNCiBFU3BlbGw6Q2FzdCh1bml0KQ0KICANCmVuZA0KDQpmdW5jdGlvbiBDYXN0Uih1bml0KQ0KICBSU3BlbGw6Q2FzdCh1bml0KQ0KZW5kDQoNCmZ1bmN0aW9uIENhc3RJKHVuaXQpDQogIElnbml0ZTpDYXN0KHVuaXQpDQplbmQNCmZ1bmN0aW9uIENhc3RGKHVuaXQpDQogIEZsYXNoOkNhc3QodW5pdCkNCmVuZA0KZnVuY3Rpb24ga2lsbHN0ZWFsKCkNCmZvciBfLCB1bml0IGluIHBhaXJzKEdldEVuZW15SGVyb2VzKCkpIGRvDQogICAgbG9jYWwgaGVhbHRoID0gdW5pdC5oZWFsdGgNCiAgICBsb2NhbCBkbWdFID0gZ2V0RG1nKCJFIiwgdW5pdCwgbXlIZXJvKSArICgobXlIZXJvLmFwKSowLjUpICsgKGdldERtZygiRSIsIHVuaXQsIG15SGVybykgKyAoKG15SGVyby5hcCkqMC41KSkNCiAgICAgIGlmKHRzZS50YXJnZXQgfj0gbmlsIGFuZCAgRVNwZWxsOklzUmVhZHkoKSBhbmQgbm90IENvbmZpZy5jb21iby5jb21ib2tleSBhbmQgaGVhbHRoPGRtZ0UgYW5kIENvbmZpZy5raWxsc3RlYWwudXNlRSAgIGFuZCBDb25maWcua2lsbHN0ZWFsLmtzKXRoZW4NCiAgICAgICAgQ2FzdEUodW5pdCkgIA0KICAgICAgZW5kDQogICAgICBsb2NhbCBkbWdRID0gZ2V0RG1nKCJRIiwgdW5pdCwgbXlIZXJvKSArICgobXlIZXJvLmFwKSowLjQwKQ0KICAgICAgaWYodHNxLnRhcmdldCB+PSBuaWwgYW5kICBRU3BlbGw6SXNSZWFkeSgpIGFuZCBub3QgQ29uZmlnLmNvbWJvLmNvbWJva2V5IGFuZCBoZWFsdGg8ZG1nUSBhbmQgQ29uZmlnLmtpbGxzdGVhbC51c2VRIGFuZCBDb25maWcua2lsbHN0ZWFsLmtzICl0aGVuDQogICAgICAgIENhc3RRKHVuaXQpICANCiAgICAgIGVuZA0KICAgICAgIGxvY2FsIGRtZ1FXID0gZ2V0RG1nKCJRIiwgdW5pdCwgbXlIZXJvKSArICgobXlIZXJvLmFwKSowLjQwKSsoZ2V0RG1nKCJXIiwgdW5pdCwgbXlIZXJvKSArICgobXlIZXJvLmFwKSowLjYwKSsoZ2V0RG1nKCJRIiwgdW5pdCwgbXlIZXJvKSArICgobXlIZXJvLmFwKSowLjQwKSkpDQogICAgICBpZih0c3cudGFyZ2V0IH49IG5pbCBhbmQgIGhlYWx0aDxkbWdRIGFuZCBub3QgQ29uZmlnLmNvbWJvLmNvbWJva2V5IGFuZCBDb25maWcua2lsbHN0ZWFsLnVzZVFXIGFuZCBDb25maWcua2lsbHN0ZWFsLmtzICl0aGVuDQogICAgICAgIENhc3RRV0sodHN3LnRhcmdldCkgIA0KICAgICAgZW5kDQogICAgICAgICAgICBsb2NhbCBkbWdXID0gZ2V0RG1nKCJXIiwgdW5pdCwgbXlIZXJvKSArICgobXlIZXJvLmFwKSowLjYwKQ0KICAgICAgaWYodHN3LnRhcmdldCB+PSBuaWwgYW5kICBXU3BlbGw6SXNSZWFkeSgpIGFuZCBub3QgQ29uZmlnLmNvbWJvLmNvbWJva2V5IGFuZCBoZWFsdGg8ZG1nUSBhbmQgQ29uZmlnLmtpbGxzdGVhbC51c2VXIGFuZCBDb25maWcua2lsbHN0ZWFsLmtzICl0aGVuDQogICAgICAgIENhc3RXKHVuaXQpICANCiAgICAgIGVuZA0KICAgICAgIGxvY2FsIGRtZ0kgPSg1MCsgKChteUhlcm8ubGV2ZWwpKjIwKSkNCiAgICAgIGlmKGhlYWx0aDxkbWdJIGFuZCBDb25maWcua2lsbHN0ZWFsLnVzZUkgYW5kIENvbmZpZy5raWxsc3RlYWwua3MgYW5kIEdldERpc3RhbmNlKHVuaXQpPDYwMCl0aGVuDQogICAgICAgIENhc3RJKHVuaXQpDQogICAgICBlbmQNCiAgICAgIGxvY2FsIGRtZ1IgPWdldERtZygiUiIsdW5pdCxteUhlcm8pKygobXlIZXJvLmFwKSowLjYwKSANCiAgICAgIGlmKHRzci50YXJnZXQgfj0gbmlsIGFuZCAgUlNwZWxsOklzUmVhZHkoKSBhbmQgbm90IENvbmZpZy5jb21iby5jb21ib2tleSBhbmQgaGVhbHRoPGRtZ1IgYW5kIENvbmZpZy5raWxsc3RlYWwudXNlUiBhbmQgQ29uZmlnLmtpbGxzdGVhbC5rcyBhbmQgR2V0RGlzdGFuY2UodW5pdCk8NjAwKXRoZW4NCiAgICAgICAgQ2FzdFIodW5pdCkNCiAgICAgIGVuZA0KICAgZW5kDQplbmQNCg0KDQoNCmZ1bmN0aW9uIGhhcmFzcygpDQogIHRzcTp1cGRhdGUoKQ0KICAgdHN3OnVwZGF0ZSgpDQogIGlmIENvbmZpZy5oYXJhc3MuaGFyYXNza2V5IGFuZCAobXlIZXJvLm1hbmEgLyBteUhlcm8ubWF4TWFuYSA+IENvbmZpZy5oYXJhc3MuTWFuYSAvMTAwICkgIHRoZW4NCiAgQ2FzdFFXSCgpDQogICAgZW5kICAgDQogZW5kDQpmdW5jdGlvbiBMYW5lQ2xlYXIoKQ0KbG9jYWwgY2xlYXJ0YXJnZXQgPSBuaWwNCiAgICBlbmVteU1pbmlvbnM6dXBkYXRlKCkNCiAgICBvdGhlck1pbmlvbnM6dXBkYXRlKCkNCiAgICBqdW5nbGVNaW5pb25zOnVwZGF0ZSgpDQogICAgZm9yIGksIG1pbmlvbiBpbiBpcGFpcnMoZW5lbXlNaW5pb25zLm9iamVjdHMpIGRvDQogICAgICBpZiBWYWxpZFRhcmdldChtaW5pb24sIDYwMCkgYW5kIChjbGVhcnRhcmdldCA9PSBuaWwgb3Igbm90IFZhbGlkVGFyZ2V0KGNsZWFydGFyZ2V0KSkgdGhlbg0KICAgICAgICBjbGVhcnRhcmdldCA9IG1pbmlvbg0KICAgICAgZW5kDQogICAgZW5kDQogICAgZm9yIGksIGp1bmdsZW1pbmlvbiBpbiBpcGFpcnMoanVuZ2xlTWluaW9ucy5vYmplY3RzKSBkbw0KICAgICAgaWYgVmFsaWRUYXJnZXQoanVuZ2xlbWluaW9uLCA2MDApIGFuZCAoY2xlYXJ0YXJnZXQgPT0gbmlsIG9yIG5vdCBWYWxpZFRhcmdldChjbGVhcnRhcmdldCkpIHRoZW4NCiAgICAgICAgY2xlYXJ0YXJnZXQgPSBqdW5nbGVtaW5pb24NCiAgICAgIGVuZA0KICAgIGVuZA0KICAgIGZvciBpLCBvdGhlcm1pbmlvbiBpbiBpcGFpcnMob3RoZXJNaW5pb25zLm9iamVjdHMpIGRvDQogICAgICBpZiBWYWxpZFRhcmdldChvdGhlcm1pbmlvbiwgNjAwKSBhbmQgKGNsZWFydGFyZ2V0ID09IG5pbCBvciBub3QgVmFsaWRUYXJnZXQoY2xlYXJ0YXJnZXQpKSB0aGVuDQogICAgICAgIGNsZWFydGFyZ2V0ID0gb3RoZXJtaW5pb24NCiAgICAgIGVuZA0KICAgIGVuZA0KICAgIGlmIGNsZWFydGFyZ2V0IH49IG5pbCB0aGVuDQogICAgICBpZihRU3BlbGw6SXNSZWFkeSgpIGFuZCBDb25maWcuanVuZ2xlY2xlYXIudXNlUSBhbmQgQ29uZmlnLmp1bmdsZWNsZWFyLmp1bmdsZWNsZWFya2V5KSBhbmQgKG15SGVyby5tYW5hIC8gbXlIZXJvLm1heE1hbmEgPiBDb25maWcuanVuZ2xlY2xlYXIuTWFuYSAvMTAwICkgdGhlbg0KICAgICAgICBDYXN0UShjbGVhcnRhcmdldCkNCiAgICAgIGVuZA0KICAgICAgaWYgY2xlYXJ0YXJnZXQgfj0gbmlsIHRoZW4NCiAgICAgIGlmKFdTcGVsbDpJc1JlYWR5KCkgYW5kIENvbmZpZy5qdW5nbGVjbGVhci51c2VXIGFuZCBDb25maWcuanVuZ2xlY2xlYXIuanVuZ2xlY2xlYXJrZXkpIGFuZCAobXlIZXJvLm1hbmEgLyBteUhlcm8ubWF4TWFuYSA+IENvbmZpZy5qdW5nbGVjbGVhci5NYW5hIC8xMDAgKSB0aGVuDQogICAgICAgIENhc3RXKGNsZWFydGFyZ2V0KQ0KICAgICAgZW5kDQogICAgICBpZiBjbGVhcnRhcmdldCB+PSBuaWwgdGhlbg0KICAgICAgaWYoRVNwZWxsOklzUmVhZHkoKSBhbmQgQ29uZmlnLmp1bmdsZWNsZWFyLnVzZUUgYW5kIENvbmZpZy5qdW5nbGVjbGVhci5qdW5nbGVjbGVhcmtleSkgYW5kIChteUhlcm8ubWFuYSAvIG15SGVyby5tYXhNYW5hID4gQ29uZmlnLmp1bmdsZWNsZWFyLk1hbmEgLzEwMCApIHRoZW4NCiAgICAgICAgQ2FzdEUoY2xlYXJ0YXJnZXQpDQogICAgICBlbmQNCiAgICBlbmQNCiAgZW5kDQplbmQNCmVuZA0KZnVuY3Rpb24gSnVuZ2xlQ2xlYXIoKQ0KbG9jYWwgY2xlYXJ0YXJnZXQgPSBuaWwNCiAgICBlbmVteU1pbmlvbnM6dXBkYXRlKCkNCiAgICBvdGhlck1pbmlvbnM6dXBkYXRlKCkNCiAgICBqdW5nbGVNaW5pb25zOnVwZGF0ZSgpDQogICAgZm9yIGksIG1pbmlvbiBpbiBpcGFpcnMoZW5lbXlNaW5pb25zLm9iamVjdHMpIGRvDQogICAgICBpZiBWYWxpZFRhcmdldChtaW5pb24sIDYwMCkgYW5kIChjbGVhcnRhcmdldCA9PSBuaWwgb3Igbm90IFZhbGlkVGFyZ2V0KGNsZWFydGFyZ2V0KSkgdGhlbg0KICAgICAgICBjbGVhcnRhcmdldCA9IG1pbmlvbg0KICAgICAgZW5kDQogICAgZW5kDQogICAgZm9yIGksIGp1bmdsZW1pbmlvbiBpbiBpcGFpcnMoanVuZ2xlTWluaW9ucy5vYmplY3RzKSBkbw0KICAgICAgaWYgVmFsaWRUYXJnZXQoanVuZ2xlbWluaW9uLCA2MDApIGFuZCAoY2xlYXJ0YXJnZXQgPT0gbmlsIG9yIG5vdCBWYWxpZFRhcmdldChjbGVhcnRhcmdldCkpIHRoZW4NCiAgICAgICAgY2xlYXJ0YXJnZXQgPSBqdW5nbGVtaW5pb24NCiAgICAgIGVuZA0KICAgIGVuZA0KICAgIGZvciBpLCBvdGhlcm1pbmlvbiBpbiBpcGFpcnMob3RoZXJNaW5pb25zLm9iamVjdHMpIGRvDQogICAgICBpZiBWYWxpZFRhcmdldChvdGhlcm1pbmlvbiwgNjAwKSBhbmQgKGNsZWFydGFyZ2V0ID09IG5pbCBvciBub3QgVmFsaWRUYXJnZXQoY2xlYXJ0YXJnZXQpKSB0aGVuDQogICAgICAgIGNsZWFydGFyZ2V0ID0gb3RoZXJtaW5pb24NCiAgICAgIGVuZA0KICAgIGVuZA0KICAgIGlmIGNsZWFydGFyZ2V0IH49IG5pbCB0aGVuDQogICAgICBpZihRU3BlbGw6SXNSZWFkeSgpIGFuZCBDb25maWcuanVuZ2xlY2xlYXIudXNlUSBhbmQgQ29uZmlnLmp1bmdsZWNsZWFyLmp1bmdsZWNsZWFya2V5KSBhbmQgKG15SGVyby5tYW5hIC8gbXlIZXJvLm1heE1hbmEgPiBDb25maWcuanVuZ2xlY2xlYXIuTWFuYSAvMTAwICkgdGhlbg0KICAgICAgICBDYXN0UShjbGVhcnRhcmdldCkNCiAgICAgIGVuZA0KICAgICAgaWYgY2xlYXJ0YXJnZXQgfj0gbmlsIHRoZW4NCiAgICAgIGlmKFdTcGVsbDpJc1JlYWR5KCkgYW5kIENvbmZpZy5qdW5nbGVjbGVhci51c2VXIGFuZCBDb25maWcuanVuZ2xlY2xlYXIuanVuZ2xlY2xlYXJrZXkpIGFuZCAobXlIZXJvLm1hbmEgLyBteUhlcm8ubWF4TWFuYSA+IENvbmZpZy5qdW5nbGVjbGVhci5NYW5hIC8xMDAgKSB0aGVuDQogICAgICAgIENhc3RXKGNsZWFydGFyZ2V0KQ0KICAgICAgZW5kDQogICAgICBpZiBjbGVhcnRhcmdldCB+PSBuaWwgdGhlbg0KICAgICAgaWYoRVNwZWxsOklzUmVhZHkoKSBhbmQgQ29uZmlnLmp1bmdsZWNsZWFyLnVzZUUgYW5kIENvbmZpZy5qdW5nbGVjbGVhci5qdW5nbGVjbGVhcmtleSkgYW5kIChteUhlcm8ubWFuYSAvIG15SGVyby5tYXhNYW5hID4gQ29uZmlnLmp1bmdsZWNsZWFyLk1hbmEgLzEwMCApIHRoZW4NCiAgICAgICAgQ2FzdEUoY2xlYXJ0YXJnZXQpDQogICAgICBlbmQNCiAgICBlbmQNCiAgZW5kDQplbmQNCmVuZA0KZnVuY3Rpb24gd1VzZWQoKSANCiAgbG9jYWwgbGVibGFuY1cgPSBteUhlcm86R2V0U3BlbGxEYXRhKF9XKQ0KICBpZiBsZWJsYW5jVy5uYW1lID09ICJsZWJsYW5jc2xpZGVyZXR1cm4iIHRoZW4gDQogICAgcmV0dXJuIHRydWUgDQogIGVsc2UgDQogICAgcmV0dXJuIGZhbHNlDQogIGVuZA0KZW5kDQpmdW5jdGlvbiByVXNlZCgpIA0KICBsb2NhbCBsZWJsYW5jUiA9IG15SGVybzpHZXRTcGVsbERhdGEoX1IpDQogIGlmIGxlYmxhbmNSLm5hbWUgPT0gIkxlYmxhbmNTbGlkZU0iIHRoZW4gDQogICAgcmV0dXJuIGZhbHNlDQogIGVsc2UgDQogICAgcmV0dXJuIHRydWUNCiAgZW5kDQplbmQNCmZ1bmN0aW9uIFFFdXNlZCgpIA0KICBsb2NhbCBsZWJsYW5jUSA9IFFTcGVsbDpJc1JlYWR5KCkNCiAgbG9jYWwgbGVibGFuY0UgPSBFU3BlbGw6SXNSZWFkeSgpDQogIGlmIChsZWJsYW5jUSBhbmQgbGVibGFuY0UpIHRoZW4gDQogICAgcmV0dXJuIGZhbHNlIA0KICBlbHNlIA0KICAgIHJldHVybiB0cnVlDQogIGVuZA0KZW5kDQpmdW5jdGlvbiBFUXVzZWQoKSANCiAgbG9jYWwgbGVibGFuY1cgPSBFU3BlbGw6SXNSZWFkeSgpDQogIGxvY2FsIGxlYmxhbmNFID0gUVNwZWxsOklzUmVhZHkoKQ0KICBpZiAobGVibGFuY1cgYW5kIGxlYmxhbmNFKSB0aGVuIA0KICAgIHJldHVybiBmYWxzZSANCiAgZWxzZSANCiAgICByZXR1cm4gdHJ1ZQ0KICBlbmQNCmVuZA0KZnVuY3Rpb24gUVJ1c2VkKCkgDQogIGxvY2FsIGxlYmxhbmNXID0gUVNwZWxsOklzUmVhZHkoKQ0KICBsb2NhbCBsZWJsYW5jRSA9IFJTcGVsbDpJc1JlYWR5KCkNCiAgaWYgKGxlYmxhbmNXIGFuZCBsZWJsYW5jRSkgdGhlbiANCiAgICByZXR1cm4gZmFsc2UgDQogIGVsc2UgDQogICAgcmV0dXJuIHRydWUNCiAgZW5kDQplbmQNCmZ1bmN0aW9uIGF1dG96aG9ueWEoKQ0KICBpZiBDb25maWcuaXRlbS5lbmFibGVhdXRvemhvbnlhIHRoZW4NCiAgICBpZiBteUhlcm8uaGVhbHRoIDw9IChteUhlcm8ubWF4SGVhbHRoICogQ29uZmlnLml0ZW0uYXV0b3pob255YSAvIDEwMCkgdGhlbiBDYXN0SXRlbSgzMTU3KSANCiAgICBlbmQNCiAgZW5kDQogIGVuZA0KZnVuY3Rpb24gT25Qcm9jZXNzQXR0YWNrKHVuaXQsIHNwZWxsKSANCg0KICANCmVuZA0KZnVuY3Rpb24gUmVxdWlyZVNpbXBsZUxpYigpDQogICAgaWYgRmlsZUV4aXN0KExJQl9QQVRILi4iU2ltcGxlTGliLmx1YSIpIGFuZCBub3QgRmlsZUV4aXN0KFNDUklQVF9QQVRILi4iU2ltcGxlTGliLmx1YSIpIHRoZW4NCiAgICAgICAgcmVxdWlyZSAiU2ltcGxlTGliIg0KICAgICAgICBpZiBfRy5TaW1wbGVMaWJWZXJzaW9uID09IG5pbCB0aGVuIA0KICAgICAgICAgICAgcHJpbnQoIllvdXIgU2ltcGxlTGliIGZpbGUgaXMgd3JvbmcuIikNCiAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICBlbmQNCiAgICAgICAgaWYgX0cuU2ltcGxlTGliVmVyc2lvbiA8IDEuMDIgdGhlbg0KICAgICAgICAgICAgcHJpbnQoIllvdSBuZWVkIHRoZSBsYXN0ZXN0IHZlcnNpb24gb2YgU2ltcGxlTGliLiIpDQogICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiB0cnVlDQogICAgZWxzZWlmIEZpbGVFeGlzdChMSUJfUEFUSC4uIlNpbXBsZUxpYi5sdWEiKSBhbmQgRmlsZUV4aXN0KFNDUklQVF9QQVRILi4iU2ltcGxlTGliLmx1YSIpIHRoZW4NCiAgICAgICAgcHJpbnQoIlNpbXBsZUxpYi5sdWEgc2hvdWxkIG5vdCBiZSBpbiBDdXN0b20gU2NyaXB0IChPbmx5IG9uIENvbW1vbiBmb2xkZXIpLCBkZWxldGUgaXQgZnJvbSB0aGVyZS4uLiIpDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVsc2UNCiAgICAgICAgbG9jYWwgZnVuY3Rpb24gQmFzZTY0RW5jb2RlMihkYXRhKQ0KICAgICAgICAgICAgbG9jYWwgYj0nQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLycNCiAgICAgICAgICAgIHJldHVybiAoKGRhdGE6Z3N1YignLicsIGZ1bmN0aW9uKHgpDQogICAgICAgICAgICAgICAgbG9jYWwgcixiPScnLHg6Ynl0ZSgpDQogICAgICAgICAgICAgICAgZm9yIGk9OCwxLC0xIGRvIHI9ci4uKGIlMl5pLWIlMl4oaS0xKT4wIGFuZCAnMScgb3IgJzAnKSBlbmQNCiAgICAgICAgICAgICAgICByZXR1cm4gcjsNCiAgICAgICAgICAgIGVuZCkuLicwMDAwJyk6Z3N1YignJWQlZCVkPyVkPyVkPyVkPycsIGZ1bmN0aW9uKHgpDQogICAgICAgICAgICAgICAgaWYgKCN4IDwgNikgdGhlbiByZXR1cm4gJycgZW5kDQogICAgICAgICAgICAgICAgbG9jYWwgYz0wDQogICAgICAgICAgICAgICAgZm9yIGk9MSw2IGRvIGM9YysoeDpzdWIoaSxpKT09JzEnIGFuZCAyXig2LWkpIG9yIDApIGVuZA0KICAgICAgICAgICAgICAgIHJldHVybiBiOnN1YihjKzEsYysxKQ0KICAgICAgICAgICAgZW5kKS4uKHsgJycsICc9PScsICc9JyB9KVsjZGF0YSUzKzFdKQ0KICAgICAgICBlbmQNCiAgICAgICAgbG9jYWwgU2F2ZVBhdGggPSBMSUJfUEFUSC4uIlNpbXBsZUxpYi5sdWEiDQogICAgICAgIGxvY2FsIFNjcmlwdFBhdGggPSAnL0JvTC9UQ1BVcGRhdGVyL0dldFNjcmlwdDUucGhwP3NjcmlwdD0nLi5CYXNlNjRFbmNvZGUyKCJyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2phY2hpY2FvL0JvTC9tYXN0ZXIvU2ltcGxlTGliLmx1YSIpLi4nJnJhbmQ9Jy4ubWF0aC5yYW5kb20oOTk5OTk5OTkpDQogICAgICAgIGxvY2FsIEdvdFNjcmlwdCA9IGZhbHNlDQogICAgICAgIGxvY2FsIEx1YVNvY2tldCA9IG5pbA0KICAgICAgICBsb2NhbCBTb2NrZXQgPSBuaWwNCiAgICAgICAgbG9jYWwgU2l6ZSA9IG5pbA0KICAgICAgICBsb2NhbCBSZWN2U3RhcnRlZCA9IGZhbHNlDQogICAgICAgIGxvY2FsIFJlY2VpdmUsIFN0YXR1cywgU25pcHBlZCA9IG5pbCwgbmlsLCBuaWwNCiAgICAgICAgbG9jYWwgU3RhcnRlZCA9IGZhbHNlDQogICAgICAgIGxvY2FsIEZpbGUgPSAiIg0KICAgICAgICBsb2NhbCBOZXdGaWxlID0gIiINCiAgICAgICAgaWYgbm90IEx1YVNvY2tldCB0aGVuDQogICAgICAgICAgICBMdWFTb2NrZXQgPSByZXF1aXJlKCJzb2NrZXQiKQ0KICAgICAgICBlbHNlDQogICAgICAgICAgICBTb2NrZXQ6Y2xvc2UoKQ0KICAgICAgICAgICAgU29ja2V0ID0gbmlsDQogICAgICAgICAgICBTaXplID0gbmlsDQogICAgICAgICAgICBSZWN2U3RhcnRlZCA9IGZhbHNlDQogICAgICAgIGVuZA0KICAgICAgICBTb2NrZXQgPSBMdWFTb2NrZXQudGNwKCkNCiAgICAgICAgaWYgbm90IFNvY2tldCB0aGVuDQogICAgICAgICAgICBwcmludCgnU29ja2V0IEVycm9yJykNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgU29ja2V0OnNldHRpbWVvdXQoMCwgJ2InKQ0KICAgICAgICAgICAgU29ja2V0OnNldHRpbWVvdXQoOTk5OTk5OTksICd0JykNCiAgICAgICAgICAgIFNvY2tldDpjb25uZWN0KCdzeC1ib2wuZXUnLCA4MCkNCiAgICAgICAgICAgIFN0YXJ0ZWQgPSBmYWxzZQ0KICAgICAgICAgICAgRmlsZSA9ICIiDQogICAgICAgIGVuZA0KICAgICAgICBBZGRUaWNrQ2FsbGJhY2soZnVuY3Rpb24oKQ0KICAgICAgICAgICAgaWYgR290U2NyaXB0IHRoZW4gcmV0dXJuIGVuZA0KICAgICAgICAgICAgUmVjZWl2ZSwgU3RhdHVzLCBTbmlwcGVkID0gU29ja2V0OnJlY2VpdmUoMTAyNCkNCiAgICAgICAgICAgIGlmIFN0YXR1cyA9PSAndGltZW91dCcgYW5kIG5vdCBTdGFydGVkIHRoZW4NCiAgICAgICAgICAgICAgICBTdGFydGVkID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIHByaW50KCJEb3dubG9hZGluZyBhIGxpYnJhcnkgY2FsbGVkIFNpbXBsZUxpYi4gUGxlYXNlIHdhaXQuLi4iKQ0KICAgICAgICAgICAgICAgIFNvY2tldDpzZW5kKCJHRVQgIi4uU2NyaXB0UGF0aC4uIiBIVFRQLzEuMVxyXG5Ib3N0OiBzeC1ib2wuZXVcclxuXHJcbiIpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGlmIChSZWNlaXZlIG9yICgjU25pcHBlZCA+IDApKSBhbmQgbm90IFJlY3ZTdGFydGVkIHRoZW4NCiAgICAgICAgICAgICAgICBSZWN2U3RhcnRlZCA9IHRydWUNCiAgICAgICAgICAgIGVuZA0KDQogICAgICAgICAgICBGaWxlID0gRmlsZSAuLiAoUmVjZWl2ZSBvciBTbmlwcGVkKQ0KICAgICAgICAgICAgaWYgRmlsZTpmaW5kKCc8L3NpJy4uJ3plPicpIHRoZW4NCiAgICAgICAgICAgICAgICBpZiBub3QgU2l6ZSB0aGVuDQogICAgICAgICAgICAgICAgICAgIFNpemUgPSB0b251bWJlcihGaWxlOnN1YihGaWxlOmZpbmQoJzxzaScuLid6ZT4nKSArIDYsIEZpbGU6ZmluZCgnPC9zaScuLid6ZT4nKSAtIDEpKQ0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGlmIEZpbGU6ZmluZCgnPHNjcicuLidpcHQ+JykgdGhlbg0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBfLCBTY3JpcHRGaW5kID0gRmlsZTpmaW5kKCc8c2NyJy4uJ2lwdD4nKQ0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBTY3JpcHRFbmQgPSBGaWxlOmZpbmQoJzwvc2NyJy4uJ2lwdD4nKQ0KICAgICAgICAgICAgICAgICAgICBpZiBTY3JpcHRFbmQgdGhlbiBTY3JpcHRFbmQgPSBTY3JpcHRFbmQgLSAxIGVuZA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBEb3dubG9hZGVkU2l6ZSA9IEZpbGU6c3ViKFNjcmlwdEZpbmQgKyAxLFNjcmlwdEVuZCBvciAtMSk6bGVuKCkNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgaWYgRmlsZTpmaW5kKCc8L3NjcicuLidpcHQ+JykgdGhlbg0KICAgICAgICAgICAgICAgIGxvY2FsIGEsYiA9IEZpbGU6ZmluZCgnXHJcblxyXG4nKQ0KICAgICAgICAgICAgICAgIEZpbGUgPSBGaWxlOnN1YihhLC0xKQ0KICAgICAgICAgICAgICAgIE5ld0ZpbGUgPSAnJw0KICAgICAgICAgICAgICAgIGZvciBsaW5lLGNvbnRlbnQgaW4gaXBhaXJzKEZpbGU6c3BsaXQoJ1xuJykpIGRvDQogICAgICAgICAgICAgICAgICAgIGlmIGNvbnRlbnQ6bGVuKCkgPiA1IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIE5ld0ZpbGUgPSBOZXdGaWxlIC4uIGNvbnRlbnQNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgbG9jYWwgSGVhZGVyRW5kLCBDb250ZW50U3RhcnQgPSBOZXdGaWxlOmZpbmQoJzxzYycuLidyaXB0PicpDQogICAgICAgICAgICAgICAgbG9jYWwgQ29udGVudEVuZCwgXyA9IE5ld0ZpbGU6ZmluZCgnPC9zY3InLi4naXB0PicpDQogICAgICAgICAgICAgICAgaWYgbm90IENvbnRlbnRTdGFydCBvciBub3QgQ29udGVudEVuZCB0aGVuDQogICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBuZXdmID0gTmV3RmlsZTpzdWIoQ29udGVudFN0YXJ0ICsgMSxDb250ZW50RW5kIC0gMSkNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgbmV3ZiA9IG5ld2Y6Z3N1YignXHInLCcnKQ0KICAgICAgICAgICAgICAgICAgICBpZiBuZXdmOmxlbigpIH49IFNpemUgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBuZXdmID0gQmFzZTY0RGVjb2RlKG5ld2YpDQogICAgICAgICAgICAgICAgICAgIGlmIHR5cGUobG9hZChuZXdmKSkgfj0gJ2Z1bmN0aW9uJyB0aGVuDQogICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGYgPSBpby5vcGVuKFNhdmVQYXRoLCAidytiIikNCiAgICAgICAgICAgICAgICAgICAgICAgIGY6d3JpdGUobmV3ZikNCiAgICAgICAgICAgICAgICAgICAgICAgIGY6Y2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlJlcXVpcmVkIGxpYnJhcnkgZG93bmxvYWRlZC4gUGxlYXNlIHJlbG9hZCB3aXRoIDJ4IEY5LiIpDQogICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIEdvdFNjcmlwdCA9IHRydWUNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQpDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KZW5kDQpmdW5jdGlvbiBHZXRTbG90SXRlbShpZCwgdW5pdCkNCiAgDQogIHVuaXQgICAgPSB1bml0IG9yIG15SGVybw0KDQogIGlmIChub3QgSXRlbU5hbWVzW2lkXSkgdGhlbg0KICAgIHJldHVybiBfX19HZXRJbnZlbnRvcnlTbG90SXRlbShpZCwgdW5pdCkNCiAgZW5kDQoNCiAgbG9jYWwgbmFtZSAgPSBJdGVtTmFtZXNbaWRdDQogIA0KICBmb3Igc2xvdCA9IElURU1fMSwgSVRFTV83IGRvDQogICAgbG9jYWwgaXRlbSA9IHVuaXQ6R2V0U3BlbGxEYXRhKHNsb3QpLm5hbWUNCiAgICBpZiAoKCNpdGVtID4gMCkgYW5kIChpdGVtOmxvd2VyKCkgPT0gbmFtZTpsb3dlcigpKSkgdGhlbg0KICAgICAgcmV0dXJuIHNsb3QNCiAgICBlbmQNCiAgZW5kDQoNCmVuZA0KZnVuY3Rpb24gaXRlbWZpeCgpDQoNCiAgSXRlbU5hbWVzICAgICAgID0gew0KICAgIFszMzAzXSAgICAgICAgPSAiQXJjaEFuZ2Vsc0R1bW15U3BlbGwiLA0KICAgIFszMDA3XSAgICAgICAgPSAiQXJjaEFuZ2Vsc0R1bW15U3BlbGwiLA0KICAgIFszMTQ0XSAgICAgICAgPSAiQmlsZ2V3YXRlckN1dGxhc3MiLA0KICAgIFszMTg4XSAgICAgICAgPSAiSXRlbUJsYWNrZmlyZVRvcmNoIiwNCiAgICBbMzE1M10gICAgICAgID0gIkl0ZW1Td29yZE9mRmVhc3RBbmRGYW1pbmUiLA0KICAgIFszNDA1XSAgICAgICAgPSAiVHJpbmtldFN3ZWVwZXJMdmwxIiwNCiAgICBbMzQxMV0gICAgICAgID0gIlRyaW5rZXRPcmJMdmwxIiwNCiAgICBbMzE2Nl0gICAgICAgID0gIlRyaW5rZXRUb3RlbUx2bDEiLA0KICAgIFszNDUwXSAgICAgICAgPSAiT2RpblRyaW5rZXRSZXZpdmUiLA0KICAgIFsyMDQxXSAgICAgICAgPSAiSXRlbUNyeXN0YWxGbGFzayIsDQogICAgWzIwNTRdICAgICAgICA9ICJJdGVtS2luZ1Bvcm9TbmFjayIsDQogICAgWzIxMzhdICAgICAgICA9ICJFbGl4aXJPZklyb24iLA0KICAgIFsyMTM3XSAgICAgICAgPSAiRWxpeGlyT2ZSdWluIiwNCiAgICBbMjEzOV0gICAgICAgID0gIkVsaXhpck9mU29yY2VyeSIsDQogICAgWzIxNDBdICAgICAgICA9ICJFbGl4aXJPZldyYXRoIiwNCiAgICBbMzE4NF0gICAgICAgID0gIk9kaW5FbnRyb3BpY0NsYXltb3JlIiwNCiAgICBbMjA1MF0gICAgICAgID0gIkl0ZW1NaW5pV2FyZCIsDQogICAgWzM0MDFdICAgICAgICA9ICJIZWFsdGhCb21iIiwNCiAgICBbMzM2M10gICAgICAgID0gIlRyaW5rZXRPcmJMdmwzIiwNCiAgICBbMzA5Ml0gICAgICAgID0gIkl0ZW1HbGFjaWFsU3Bpa2VDYXN0IiwNCiAgICBbMzQ2MF0gICAgICAgID0gIkFzY1dhcnAiLA0KICAgIFszMzYxXSAgICAgICAgPSAiVHJpbmtldFRvdGVtTHZsMyIsDQogICAgWzMzNjJdICAgICAgICA9ICJUcmlua2V0VG90ZW1Mdmw0IiwNCiAgICBbMzE1OV0gICAgICAgID0gIkhleHRlY2hTd2VlcGVyIiwNCiAgICBbMjA1MV0gICAgICAgID0gIkl0ZW1Ib3JuIiwNCiAgICAtLVsyMDAzXSAgICAgID0gIlJlZ2VuZXJhdGlvblBvdGlvbiIsDQogICAgWzMxNDZdICAgICAgICA9ICJIZXh0ZWNoR3VuYmxhZGUiLA0KICAgIFszMTg3XSAgICAgICAgPSAiSGV4dGVjaFN3ZWVwZXIiLA0KICAgIFszMTkwXSAgICAgICAgPSAiSXJvblN0eWx1cyIsDQogICAgWzIwMDRdICAgICAgICA9ICJGbGFza09mQ3J5c3RhbFdhdGVyIiwNCiAgICBbMzEzOV0gICAgICAgID0gIkl0ZW1NZXJjdXJpYWwiLA0KICAgIFszMjIyXSAgICAgICAgPSAiSXRlbU1vcmVsbG9zQmFuZSIsDQogICAgWzMwNDJdICAgICAgICA9ICJNdXJhbWFuYSIsDQogICAgWzMwNDNdICAgICAgICA9ICJNdXJhbWFuYSIsDQogICAgWzMxODBdICAgICAgICA9ICJPZHluc1ZlaWwiLA0KICAgIFszMDU2XSAgICAgICAgPSAiSXRlbUZhaXRoU2hha2VyIiwNCiAgICBbMjA0N10gICAgICAgID0gIk9yYWNsZUV4dHJhY3RTaWdodCIsDQogICAgWzMzNjRdICAgICAgICA9ICJUcmlua2V0U3dlZXBlckx2bDMiLA0KICAgIFsyMDUyXSAgICAgICAgPSAiSXRlbVBvcm9TbmFjayIsDQogICAgWzMxNDBdICAgICAgICA9ICJRdWlja3NpbHZlclNhc2giLA0KICAgIFszMTQzXSAgICAgICAgPSAiUmFuZHVpbnNPbWVuIiwNCiAgICBbMzA3NF0gICAgICAgID0gIkl0ZW1UaWFtYXRDbGVhdmUiLA0KICAgIFszODAwXSAgICAgICAgPSAiSXRlbVJpZ2h0ZW91c0dsb3J5IiwNCiAgICBbMjA0NV0gICAgICAgID0gIkl0ZW1HaG9zdFdhcmQiLA0KICAgIFszMzQyXSAgICAgICAgPSAiVHJpbmtldE9yYkx2bDEiLA0KICAgIFszMDQwXSAgICAgICAgPSAiSXRlbVNlcmFwaHNFbWJyYWNlIiwNCiAgICBbMzA0OF0gICAgICAgID0gIkl0ZW1TZXJhcGhzRW1icmFjZSIsDQogICAgWzIwNDldICAgICAgICA9ICJJdGVtR2hvc3RXYXJkIiwNCiAgICBbMzM0NV0gICAgICAgID0gIk9kaW5Ucmlua2V0UmV2aXZlIiwNCiAgICBbMjA0NF0gICAgICAgID0gIlNpZ2h0V2FyZCIsDQogICAgWzMzNDFdICAgICAgICA9ICJUcmlua2V0U3dlZXBlckx2bDEiLA0KICAgIFszMDY5XSAgICAgICAgPSAic2h1cmVseWFzY3Jlc3QiLA0KICAgIFszNTk5XSAgICAgICAgPSAiS2FsaXN0YVBTcGVsbENhc3QiLA0KICAgIFszMTg1XSAgICAgICAgPSAiSGV4dGVjaFN3ZWVwZXIiLA0KICAgIFszMDc3XSAgICAgICAgPSAiSXRlbVRpYW1hdENsZWF2ZSIsDQogICAgWzIwMDldICAgICAgICA9ICJJdGVtTWluaVJlZ2VuUG90aW9uIiwNCiAgICBbMjAxMF0gICAgICAgID0gIkl0ZW1NaW5pUmVnZW5Qb3Rpb24iLA0KICAgIFszMDIzXSAgICAgICAgPSAiSXRlbVdyYWl0aENvbGxhciIsDQogICAgWzMyOTBdICAgICAgICA9ICJJdGVtV3JhaXRoQ29sbGFyIiwNCiAgICBbMjA0M10gICAgICAgID0gIlZpc2lvbldhcmQiLA0KICAgIFszMzQwXSAgICAgICAgPSAiVHJpbmtldFRvdGVtTHZsMSIsDQogICAgWzMwOTBdICAgICAgICA9ICJaaG9ueWFzSG91cmdsYXNzIiwNCiAgICBbMzE1NF0gICAgICAgID0gIndyaWdnbGVsYW50ZXJuIiwNCiAgICBbMzE0Ml0gICAgICAgID0gIllvdW11c0JsYWRlIiwNCiAgICBbMzE1N10gICAgICAgID0gIlpob255YXNIb3VyZ2xhc3MiLA0KICAgIFszNTEyXSAgICAgICAgPSAiSXRlbVZvaWRHYXRlIiwNCiAgICBbMzEzMV0gICAgICAgID0gIkl0ZW1Tb1REIiwNCiAgICBbMzEzN10gICAgICAgID0gIkl0ZW1EZXJ2aXNoQmxhZGUiLA0KICAgIFszMzUyXSAgICAgICAgPSAiUmVsaWNTcG90dGVyIiwNCiAgICBbMzM1MF0gICAgICAgID0gIlRyaW5rZXRUb3RlbUx2bDIiLA0KICB9DQogIA0KICBfRy5JVEVNXzEgICAgICAgPSAwNg0KICBfRy5JVEVNXzIgICAgICAgPSAwNw0KICBfRy5JVEVNXzMgICAgICAgPSAwOA0KICBfRy5JVEVNXzQgICAgICAgPSAwOQ0KICBfRy5JVEVNXzUgICAgICAgPSAxMA0KICBfRy5JVEVNXzYgICAgICAgPSAxMQ0KICBfRy5JVEVNXzcgICAgICAgPSAxMg0KICANCiAgX19fR2V0SW52ZW50b3J5U2xvdEl0ZW0gPSByYXdnZXQoX0csICJHZXRJbnZlbnRvcnlTbG90SXRlbSIpDQogIF9HLkdldEludmVudG9yeVNsb3RJdGVtID0gR2V0U2xvdEl0ZW0NCiAgDQogIA0KZW5kDQpmdW5jdGlvbiBlc2NhcGUoKQ0KaWYgQ29uZmlnLmVzY2FwZS5lc2NhcGVrZXkgYW5kIENvbmZpZy5lc2NhcGUudXNlVyBhbmQgbm90IHdVc2VkKCkgdGhlbg0KQ2FzdFNwZWxsKF9XLG1vdXNlUG9zLngsbW91c2VQb3MueikNCmVuZA0KaWYgQ29uZmlnLmVzY2FwZS5lc2NhcGVrZXkgdGhlbiANCndhbGsoKQ0KZW5kDQppZiBDb25maWcuZXNjYXBlLmVzY2FwZWtleSBhbmQgQ29uZmlnLmVzY2FwZS51c2VSIGFuZCBub3QgIHJVc2VkKCkgdGhlbg0KQ2FzdFNwZWxsKF9SLG1vdXNlUG9zLngsbW91c2VQb3MueikNCmVuZA0KZW5kDQpmdW5jdGlvbiB3YWxrKCkNCiAgbXlIZXJvOk1vdmVUbyhtb3VzZVBvcy54LG1vdXNlUG9zLnopDQplbmQ="), nil, "bt", _ENV))()
--Copy line